@import "tailwindcss";

/* Fix viewport height on mobile devices (iOS/iPadOS) */
html {
  height: 100%;
  /* Support for dynamic viewport units (modern browsers) */
  height: 100dvh;
  -webkit-text-size-adjust: 100%;
  touch-action: manipulation;
}

body {
  height: 100%;
  height: 100dvh;
  overflow-x: hidden;
  width: 100%;
  max-width: 100vw;
  /* Prevent pull-to-refresh on mobile */
  overscroll-behavior-y: none;
  /* Better touch handling */
  -webkit-tap-highlight-color: transparent;
  touch-action: manipulation;
}

#root {
  height: 100%;
  height: 100dvh;
  overflow-x: hidden;
  width: 100%;
  max-width: 100vw;
}

/* Custom utility for full viewport height that works on all devices */
@supports (height: 100dvh) {
  .min-h-screen-safe {
    min-height: 100dvh;
  }
  .h-screen-safe {
    height: 100dvh;
  }
}

@supports not (height: 100dvh) {
  .min-h-screen-safe {
    min-height: 100vh;
    min-height: -webkit-fill-available;
  }
  .h-screen-safe {
    height: 100vh;
    height: -webkit-fill-available;
  }
}

/* Smooth scrolling for mobile devices */
.overflow-x-auto {
  -webkit-overflow-scrolling: touch;
  scroll-behavior: smooth;
}

/* Prevent content from being cut off on small screens */
@media (max-width: 640px) {
  body {
    min-width: 100%;
    overflow-x: auto;
  }

  /* Add subtle shadow to indicate scrollable content on mobile */
  .overflow-x-auto {
    background:
      linear-gradient(90deg, white 30%, rgba(255,255,255,0)),
      linear-gradient(90deg, rgba(255,255,255,0), white 70%) 100% 0,
      radial-gradient(farthest-side at 0 50%, rgba(0,0,0,.2), rgba(0,0,0,0)),
      radial-gradient(farthest-side at 100% 50%, rgba(0,0,0,.2), rgba(0,0,0,0)) 100% 0;
    background-repeat: no-repeat;
    background-size: 40px 100%, 40px 100%, 14px 100%, 14px 100%;
    background-attachment: local, local, scroll, scroll;
  }
}
